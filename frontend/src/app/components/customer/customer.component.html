<div class="customer-container max-w-5xl mx-auto p-6">
  <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">My Policies</h2>

  <!-- Empty State -->
  <div *ngIf="userPolicies.length === 0" class="text-center text-gray-600">
    <p>You have not purchased any policies yet.</p>
  </div>

  <!-- Policy List -->
  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div 
      *ngFor="let policy of userPolicies" 
      class="bg-white shadow-md rounded-xl p-6 hover:shadow-lg transition flex flex-col justify-between"
    >
      <!-- Policy Info -->
      <div>
        <h3 class="text-xl font-semibold text-blue-700 mb-2">
          {{ policy.policyProductId?.title }} 
          <span class="text-gray-500 text-sm">({{ policy.policyProductId?.code }})</span>
        </h3>
        <ul class="text-sm text-gray-600 space-y-1 mb-3">
          <li><strong>Premium:</strong> â‚¹{{ policy.policyProductId?.premium }}</li>
          <li><strong>Term:</strong> {{ policy.policyProductId?.termMonths }} months</li>
          <li><strong>Status:</strong> 
            <span 
              class="px-2 py-1 rounded-md text-xs font-medium"
              [ngClass]="{
                'bg-green-100 text-green-700': policy.status === 'ACTIVE',
                'bg-red-100 text-red-700': policy.status === 'CANCELLED',
                'bg-yellow-100 text-yellow-700': policy.status === 'PENDING'
              }"
            >
              {{ policy.status }}
            </span>
          </li>
        </ul>

        <!-- Nominee details -->
        <p class="text-sm text-gray-700">
          <strong>Nominee:</strong> {{ policy.nominee?.name }} 
          ({{ policy.nominee?.relation }})
        </p>
      </div>

      <!-- Actions -->
      <div class="flex gap-3 mt-4">
        <button 
          *ngIf="policy.status === 'ACTIVE'" 
          [routerLink]="['/paymentform', policy._id]"
          class="flex-1 py-1 px-2 bg-blue-600 text-white font-medium rounded-lg shadow hover:bg-blue-700 transition"
        >
          Make Payment
        </button>
        <button 
          *ngIf="policy.status !== 'CANCELLED'" 
          (click)="cancelPolicy(policy._id)"
          class="flex-1 py-1 px-2 bg-red-600 text-white font-medium rounded-lg shadow hover:bg-red-700 transition"
        >
          Cancel Policy
        </button>
      </div>
    </div>
  </div>
</div>